/*! weather-jquery 13-09-2016 */
"use strict";function successCB(a){var b={};console.log("results:",a.list);for(var c=0;c<a.list.length;c++){var d=a.list[c].dt_txt.slice(0,10),e=a.list[c].dt_txt.slice(11,19),f=void 0;a.list[c+1]&&(f=a.list[c+1].dt_txt.slice(0,10));var g=a.list[c].main,h=a.list[c].weather[0],i=a.list[c],j={id:h.id,description:h.description,clouds:i.clouds.all,wind:{deg:i.wind.deg,speed:i.wind.speed}};b[d]&&(b[d].temp+=g.temp,b[d].humidity+=g.humidity,b[d].pressure+=g.pressure,b[d].temp_min>g.temp_min&&(b[d].temp_min=g.temp_min),b[d].temp_max<g.temp_max&&(b[d].temp_max=g.temp_max),b[d].readings++,b[d].hourly[e]=j),b[d]||(b[d]={temp:g.temp,temp_min:g.temp_min,temp_max:g.temp_max,humidity:g.humidity,pressure:g.pressure,readings:1,hourly:{}},b[d].hourly[e]=j),d!==f&&(b[d].temp=(b[d].temp/b[d].readings).toFixed(2),b[d].humidity=(b[d].humidity/b[d].readings).toFixed(2),b[d].pressure=(b[d].pressure/b[d].readings).toFixed(2))}console.log("weatherData:",b),appendWeatherEl(b)}function appendWeatherEl(a){var b=0;for(var c in a){b++;var d=moment(c).format("dddd, MMMM Do");$(".weather-details").append('<div id="day'+b+'">\n        <div class="metrics">\n          <h3>'+d+"</h3>\n          <p>Temperature: "+a[c].temp+"</p>\n          <p>High: "+a[c].temp_max+"</p>\n          <p>Low: "+a[c].temp_min+"</p>\n          <p>Humidity: "+a[c].humidity+"</p>\n          <p>Presssure: "+a[c].pressure+'</p>\n        </div>\n        <div class="bar">\n        </div>\n      </div>');for(var e in a[c].hourly)console.log(c,e),console.log("#id"+b),$("#id"+b+" div.bar").append("<span>"+e+"</span>")}styleEl()}function styleEl(){$("body, div:parent").css({margin:"0px",display:"flex","flex-flow":"column nowrap","justify-content":"center","align-items":"center",width:"100vw"})}var APIKEY="6e1fc93970e4f39c34301ff3e1a16977",city="Boulder";$(".root").append("<h1>Weather Forecast for "+city+'</h1>\n  <div class="weather-details"></div>'),$.get("http://api.openweathermap.org/data/2.5/forecast?q="+city+"&units=imperial&APPID="+APIKEY,successCB).fail(function(a){return console.log("err:",a)});